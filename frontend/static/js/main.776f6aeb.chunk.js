(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),c=a(3),o=a.n(c),s=a(7),l=a(4),h=a(5),r=a(1),u=a(6),d=a(8),m=(a(14),function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={todoList:[],activeItem:{id:null,title:"",completed:!1},editing:!1},n.fetchTasks=n.fetchTasks.bind(Object(r.a)(n)),n.handleChange=n.handleChange.bind(Object(r.a)(n)),n.getCookie=n.getCookie.bind(Object(r.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(r.a)(n)),n.taskUpdate=n.taskUpdate.bind(Object(r.a)(n)),n.taskDelete=n.taskDelete.bind(Object(r.a)(n)),n.lineThrough=n.lineThrough.bind(Object(r.a)(n)),n}return Object(h.a)(a,[{key:"getCookie",value:function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var a=document.cookie.split(";"),n=0;n<a.length;n++){var i=a[n].trim();if(i.substring(0,e.length+1)===e+"="){t=decodeURIComponent(i.substring(e.length+1));break}}return t}},{key:"componentDidMount",value:function(){this.fetchTasks()}},{key:"fetchTasks",value:function(){var e=this;fetch("https://jhmyung.pythonanywhere.com/api/task-list/").then((function(e){return e.json()})).then((function(t){e.setState({todoList:t})}))}},{key:"handleChange",value:function(e){var t=e.target.value;this.setState({activeItem:Object(s.a)({},this.state.activeItem,{title:t})})}},{key:"handleSubmit",value:function(e){var t=this,a=this.state,n=a.activeItem,i=n.title,c=n.id,o=a.editing;e.preventDefault();var s=this.getCookie("csrftoken"),l="https://jhmyung.pythonanywhere.com/api/task-create/";o&&(l="https://jhmyung.pythonanywhere.com/api/task-update/".concat(c,"/"),this.setState({editing:!1})),fetch(l,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":s},body:JSON.stringify({title:i})}).then((function(e){t.fetchTasks(),t.setState({activeItem:{id:null,title:"",completed:!1}})}))}},{key:"taskUpdate",value:function(e){this.setState({activeItem:e,editing:!0})}},{key:"taskDelete",value:function(e){var t=this,a=this.getCookie("csrftoken"),n="https://jhmyung.pythonanywhere.com/api/task-delete/".concat(e.id,"/");fetch(n,{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRFToken":a}}).then((function(e){t.fetchTasks()}))}},{key:"lineThrough",value:function(e){var t=this;e.completed=!e.completed;var a=this.getCookie("csrftoken"),n="https://jhmyung.pythonanywhere.com/api/task-update/".concat(e.id,"/");fetch(n,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":a},body:JSON.stringify({title:e.title,completed:e.completed})}).then((function(e){t.fetchTasks()}))}},{key:"render",value:function(){var e=this,t=this.state.todoList,a=this.state.activeItem.title;return i.a.createElement("div",{className:"container"},i.a.createElement("header",{className:"header"},i.a.createElement("h2",null,"Todo List"),i.a.createElement("h4",null,"(Django-RESTful-API + React.js)")),i.a.createElement("div",{className:"inputBox"},i.a.createElement("form",{onSubmit:this.handleSubmit,method:"POST",className:"inputForm"},i.a.createElement("input",{onChange:this.handleChange,type:"text",placeholder:"Add task",className:"inputField",name:"title",value:a}),i.a.createElement("button",{type:"submit",className:"submitBtn"},"Submit"))),i.a.createElement("div",{className:"list-container"},i.a.createElement("ul",{className:"unorder-list"},t.map((function(t){return i.a.createElement("li",{className:"task-list",key:t.id},i.a.createElement("span",{className:"content ".concat(t.completed?"active":""),onClick:function(){e.lineThrough(t)}},t.title),i.a.createElement("span",{className:"icon"},i.a.createElement("i",{className:"far fa-edit","aria-hidden":"true",onClick:function(){e.taskUpdate(t)}}),i.a.createElement("i",{className:"far fa-trash-alt","aria-hidden":"true",onClick:function(){e.taskDelete(t)}})))})))))}}]),a}(n.Component));o.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(m,null)),document.getElementById("root"))},9:function(e,t,a){e.exports=a(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.776f6aeb.chunk.js.map